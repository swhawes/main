[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "Welcome\nThis is the current landing page for the “Longitudinal Association of Video Gaming With Severe Behavior Problems Among Youth” project\n\ncompile to word, pdf, (gdocs), and html formats"
  },
  {
    "objectID": "manuscript/working_draft.html",
    "href": "manuscript/working_draft.html",
    "title": "Working Draft",
    "section": "",
    "text": "Introduction\nThere has been much debate and research on the relationship between violent video games and aggressive behavior problems among youth. Some studies have found that playing violent video games may be associated with increased aggressive thoughts, emotions, and behaviors. However, other research has found no such relationship, or that the relationship is small and may not be significant. It is important to note that aggression is a complex behavior that is influenced by many factors, including genetics, social environment, and individual experiences. There is no single cause of aggression, and it is likely that the relationship between violent video games and aggressive behavior is complex and multifaceted (GP).\nIt is also important to consider that not all youth who play violent video games will exhibit aggressive behavior, and not all youth who exhibit aggressive behavior have played violent video games. It is possible that other factors, such as a history of exposure to violence, family or social problems, or individual psychological or psychiatric conditions, may contribute more significantly to aggressive behavior problems. Overall, it is important to consider the potential impact of violent video games on youth, as well as the many other factors that may influence aggressive behavior. However, more research is needed to fully understand the relationship between violent video games and aggressive behavior problems among youth (GP).\n## Sample The ABCD sample was largely recruited through public, private, and charter elementary schools. The ABCD study adopted a population neuroscience approach to recruitment (Falk et al. 2013; Paus 2013) by using epidemiologically informed procedures to ensure demographic variation in its sample that would mirror the variation in the US population of 9- and 10-year-olds (Garavan et al. 2018). A probability sampling of schools was conducted within the defined catchment areas of the study’s nationally distributed set of 21 recruitment sites in the US. All children in each sampled school were invited to participate after classroom-based presentations, distribution of study materials, and telephone screening for eligibility. Exclusions included common MRI contraindications (such as cardiac pacemakers and defibrillators, internal pacing wires, cochlear and metallic implants, and Swan-Ganz catheters), inability to understand or speak English fluently, uncorrected vision, hearing or sensorimotor impairments, history of major neurologic disorders, gestational age less than 28 weeks, birth weight less than 1200 g, birth complications that resulted in hospitalization for more than 1 month, current diagnosis of schizophrenia, moderate or severe autism spectrum disorder, history of traumatic brain injury, or unwillingness to complete assessments. The ABCD study sample also includes 2105 monozygotic and dizygotic twins. The ABCD study’s anonymized data, including all assessment domains, are released annually to the research community. Data on race and ethnicity are not included in the ABCD study data. Information on how to access ABCD study data through the National Institute of Mental Health Data Archive is available on the ABCD study data-sharing webpage.\nParticipants were enrolled in the ongoing, longitudinal ABCD Study, and the study data were from the annual 4.0 data release (https://data-archive.nimh.nih.gov/abcd). The ABCD Study recruited 11,874 healthy children, ages 9–10, to be followed into early adulthood. Participants across 21 study sites were recruited through public and private elementary schools, with sampling approaches intended to yield a final sample that approximated national sociodemographic characteristics. The ABCD study was approved by the appropriate institutional review boards: most ABCD research sites rely on a central Institutional Review Board at the University of California, San Diego for the ethical review and approval of the research protocol, with a few sites obtaining local IRB approval. Participants provided written assent, and their legal guardians written consent, for participation."
  },
  {
    "objectID": "manuscript/working_draft.html#measures",
    "href": "manuscript/working_draft.html#measures",
    "title": "Working Draft",
    "section": "Measures",
    "text": "Measures\n\nScreen Time Survey\nParticipants were administered a screen time survey that asked how much time they spend engaged in different types of screen time on a typical weekday and a typical weekend day. The different screen time categories were as follows: “Watch TV shows or movies?”; “Watch videos (such as YouTube)?”; “Play video games on a computer, console, phone, or other device (Xbox, Play Station, iPad)?”; “Text on a cell phone, tablet, or computer (eg, GChat, Whatsapp, etc.)?”; “Visit social networking sites like Facebook, Twitter, Instagram, etc?”; and “Video chat (Skype, Facetime, etc)?” For each of these activities, the participants responded with how much time they spent per day doing them. They could answer none, less than 30 minutes, 30 minutes, 1 hour, 2 hours, 3 hours, or 4 hours. Answers were mostly none for the texting, social networking, and video chatting categories, as expected for this age range. For each participant, a total weekly video-gaming score was derived as the sum of (video-gaming hours per weekday × 5) + (video-gaming hours per weekend day × 2). Using the video-gaming score, we defined a group of NVGs who never played video games (0 gaming hours per week) and a group of VGs who played 3 hours per day (21 hours per week) or more. This threshold was selected because it exceeds the American Academy of Pediatrics screen time guidelines (“American Academy of Pediatrics. Media and Children.” 2022), which recommends that video-gaming time be limited to 1 to 2 hours per day for older children.\n\n\nYouth Behavior Problems\nMental health symptoms were evaluated using the Child Behavior Checklist (CBCL) (Achenbach and Ruffle 2000) and the Schedule for Affective Disorders and Schizophrenia for School-Age Children–Present and Lifetime version for DSM-5 (K-SADS-PL) (Kaufman et al. 1997; Kobak et al. 2013). Raw scores of behavioral (externalizing, aggression, oppositional-defiant problems, conduct problems) and psychiatric categories (Diagnostic and Statistical Manual of Mental Disorders, Fifth Edition diagnoses of depression oppositional-defiant disorder, and conduct disorder) were obtained via parent-report of the self-administered computerized version of each of these measures.\n\n\nPotential confounders\nThe youth’s age, sex, and race/ethnicity, as well as family income and parental education were reported by the parent at the baseline assessment. Several control variables were included to account for the potential effects of attentional, cognitive, or emotional difficulties that are often comorbid with behavior problems. This includes scores on measures from the the National Institutes of Health Toolbox (http://www.nihtoolbox.org) including 1) the Flanker Task–– a response inhibition/conflict monitoring task that measures the ability to modulate responding under congruent versus incongruent stimulus contexts (Thompson2019?) and 2) the mean of crystalized and fluid intelligence composite scores (Zelazo et al. 2013). Additionally, scores on the CBCL DSM-oriented internalizing subscale (Achenbach and Ruffle 2000) were also input as model covariates.\n\n\nParticipant Inclusion Criteria\nParticipants were included if they had (1) xxxxx, (2) xxxxx, and (3) had complete information on the screen time survey and for all other variables (CBCL, age, sex, and parental income)."
  },
  {
    "objectID": "manuscript/working_draft.html#analytic-strategy",
    "href": "manuscript/working_draft.html#analytic-strategy",
    "title": "Working Draft",
    "section": "Analytic Strategy",
    "text": "Analytic Strategy\nDescriptive analysis present an overview of demographic characteristics and xxxx, with age (months), sex, race/ethnicity, scanner serial number, IQ, puberty, parental education, parental income. Latent growth curve modeling (LGCM) was used to characterize behavior problem trajectories (e.g., aggression, externalizing behaviors) in youth across mid-to-late childhood (ages ~ 9-12). This approach identifies developmental trajectories, allowing for an examination of individual patterns of stability and change across time, as well as unique predictors and outcomes of change. Next, main effects and interactions were used to predict intercept and slope factor of behavior problems main effects and interactions w/ sex, maturegames, gaming hrs in childhood (baseline) predicted xxxx longitudinally.\nAll analyses were conducted using xxxxxxx (xxxx), with models specified using maximum likelihood estimation with robust standard errors and a Monte Carlo numerical integration algorithm. Complex sampling and recruitment procedures for the ABCD Study were accounted for using cluster correction (i.e., for sibling pairs) and stratification sampling (i.e. study site) procedures (32). Model fit was assessed according to global fit indices including the comparative fit index (CFI) and the root mean square error of approximation (RMSEA). Cutoff values of .90 or greater were used to indicate acceptable fit and .95 or greater to indicate good fit for CFI (Hu and Bentler, 1999; McDonald and Ho, 2002). RMSEA values between .05 and .10 were considered to represent an acceptable fit, while values less than .05 were considered to indicate good fit (Browne and Cudeck, 1993; McDonald and Ho, 2002).\nIn addition, longitudinal and multigroup invariance testing was conducted to determine whether there were any sex-based effects for any model parameters. First, a baseline configural model was specified, allowing factor loadings and intercepts to vary across time. Subsequent models were specified by adding parameter constraints, until arriving at a final invariance model with factor loadings, intercepts, factor covariances, and item residual variances constrained to equality across each assessment wave. These models were compared via (Satorra-Bentler) chi-square difference testing, wherein a non-significant chi-square indicates that the more constrained model should be adopted. However, as the chi-square difference test is sensitive to sample size and violations of the normality assumption, we also assessed change in CFI and RMSEA fit indices across models. Changes in CFI equal to or less than .01 and changes in RMSEA of equal to or less than .015 have been proposed as demonstrating evidence of model invariance (Chen, 2007; Cheung and Rensvold, 2002).\nThe xxxx model allowed us to examine group differences in xxxx, supplementing the xxxxx analyses in several ways. First, we could evaluate how xxxx contributed to the hypothesized xxxxx and assess whether xxxxx could be modeled similarly across groups. We used measurement invariance testing (via the DIFFTEST procedure in Mplus, version 7 [32]) to evaluate the xxxx model across groups (i.e., configural invariance) and over time to determine whether each xxxx contributed to the xxxx equivalently across groups (i.e., metric and scalar invariance) (see the Methods section in the online supplement). Second, our modeling approach allowed us to test for group differences in mean levels of xxxxx, which was made more advantageous given that latent variables are modeled free of measurement error, resulting in increased statistical power."
  },
  {
    "objectID": "manuscript/working_draft.html#results",
    "href": "manuscript/working_draft.html#results",
    "title": "Working Draft",
    "section": "Results",
    "text": "Results\n\nDescriptives Results\nDescriptive statistics are provided in [Table 1]. Add some additinal intial text here…\n\n\n\n\nTable 1. Descriptives\n \n  \n     \n    Baseline (N=6513) \n    Year_1 (N=6258) \n    Year_2 (N=5745) \n    Total (N=18516) \n  \n \n\n  \n    Sex \n    4381 (67.3%) \n    4210 (67.3%) \n    3873 (67.4%) \n    12464 (67.3%) \n  \n  \n    Race \n     \n     \n     \n     \n  \n  \n    -  Asian \n    88 (1.4%) \n    83 (1.3%) \n    0 \n    171 (1.3%) \n  \n  \n    -  Black \n    1227 (18.8%) \n    1133 (18.1%) \n    0 \n    2360 (18.5%) \n  \n  \n    -  Hispanic \n    1388 (21.3%) \n    1315 (21.0%) \n    0 \n    2703 (21.2%) \n  \n  \n    -  Other \n    713 (10.9%) \n    686 (11.0%) \n    0 \n    1399 (11.0%) \n  \n  \n    -  White \n    3096 (47.5%) \n    3038 (48.6%) \n    0 \n    6134 (48.0%) \n  \n  \n    Age \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    9.5 (0.5) \n    NA \n    NA \n    9.5 (0.5) \n  \n  \n    IQ \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    47.2 (11.2) \n    NA \n    47.4 (11.2) \n    47.2 (11.2) \n  \n  \n    FlankerTest \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    46.2 (9.4) \n    NA \n    46.7 (9.6) \n    46.4 (9.5) \n  \n  \n    ParentIncome \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    86.0 (256.5) \n    NA \n    NA \n    86.0 (256.5) \n  \n  \n    ParentEducation \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    18.1 (37.8) \n    NA \n    NA \n    18.1 (37.8) \n  \n  \n    PubertalDevelopment_F \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    2.4 (0.9) \n    2.8 (0.9) \n    3.2 (0.7) \n    2.5 (0.9) \n  \n  \n    PubertalDevelopment_M \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    2.0 (0.8) \n    2.0 (0.8) \n    2.3 (0.7) \n    2.0 (0.8) \n  \n  \n    MatureVideoGames \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    1.2 (0.4) \n    1.2 (0.4) \n    1.2 (0.4) \n    1.2 (0.4) \n  \n  \n    TotalGamingHours \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    11.2 (8.3) \n    13.2 (8.3) \n    NA \n    12.2 (8.4) \n  \n  \n    Weekly_Gaming_Hours \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    11.3 (8.3) \n    13.3 (8.3) \n    14.3 (10.6) \n    12.9 (9.1) \n  \n  \n    Aggression \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    3.7 (4.8) \n    3.4 (4.6) \n    3.2 (4.4) \n    3.5 (4.6) \n  \n  \n    Externalizing \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    5.1 (6.5) \n    4.8 (6.2) \n    4.4 (6.1) \n    4.8 (6.3) \n  \n  \n    Internalizing \n     \n     \n     \n     \n  \n  \n    -  Mean (SD) \n    5.3 (5.8) \n    5.4 (5.9) \n    5.1 (5.8) \n    5.3 (5.8) \n  \n\n\nNote: \n\n TBD. \n\n\n\n\n\n\n\nGrowth Curve Model Results\nThe unconditional latent growth curve model of externalizing problems showed evidence of appropriate fit (χ2 (1) = .006, p = .93; CFI = 1.00, RMSEA = 1.00). The mean estimated intercept (M = 5.01, SE = 0.08) differed significantly from zero and the linear slope (M = -0.25, SE = 0.03) was significant in the negative direction. We also note a statistically significant variance estimate for the model intercept (δ2 = 31.41, p < .001), but a non-significant variance estimate for the linear slope (δ2 = 1.21, p = .05).\n\n\n\n\n\nUnivariate Regression Results\nNext we examined univariate effects of all study predictors and covariates with the intercept and slope factors of the Externalizing growth curve. These results show several significant associations with the growth curve intercept. Most notably, the ‘Total Weekly Gaming Hours’ (r = .09, se = .01, p<.001), whether or not the youth played mature rated video games (r = .11, se = .01, p<.001), and whether or not the participant was male (r = .07, se = .01, p<.001) were each significantly associated with the the Externalizing LGCM intercept in the positive direction. There were no significant associations with the Externalizing LGCM slope.\n\n\n\n\n\n\n\n\n\n\n\nMultivariate Regression Results\nNext we examined effects separately for each of the three primary study predictors (i.e., Total Weekly Gaming Hours, Mature Games, Sex) in a model with the full set of study covariates (i.e., race/ethnicity, parent income, parent education, IQ, Flanker, internalizing). The first model showed that, although attenuated, the effect of ‘Total Weekly Gaming Hours’ on the Externalizing LGCM intercept factor remained significant when included in the full covariate model (r = .03, se = .01, p = .01). Similarly, the subsequent two analyses showed that the effects of ‘Mature Games’ (r = .07, se = .01, p < .001) and ‘Sex’ (r = .07, se = .02, p < .001) on the Externalizing LGCM intercept factor remained significant when included in the full covariate model. There were no significant associations with the Externalizing LGCM slope.\n\n\n\n\n\n\n\n\n\n\n\nHierarchical Regression Results\nFinally, we conducted analyses that included all study predictors and covariates in a single model. These results showed that the effects for ‘Mature Games’ (r = .05, se = .01, p < .001) and ‘Sex’ (r = .06, se = .01, p < .001) remained significant, however the effect of ‘Total Weekly Gaming Hours’ (r = .02, se = .01, p = .19) was reduced to non-significance.\n\n\n\n\n\nTwo-Way Interaction Results\nSubsequent to examination of model main effects, we proceeded to test a series of 3 unique two-way interaction effects between our study predictors of primary interest (‘Total Weekly Gaming Hours’, ‘Mature Games’, ‘Sex’). Results demonstrated a significant two-way interaction between ‘Total Weekly Gaming Hours’ and ‘Mature Games’ (r = .09, se = .04, p = .01) in the prediction of the Externalizing LGCM intercept factor. Further probing of this interaction effect revealed ?xxxxxx?. There was no evidence of any additional significant interactions identified in the prediction of the Externalizing LGCM intercept or slope factors.\n\nAdd Figure to this section\n\n\n\nThree-Way Interaction Results\nFinally, there was no evidence of a three-way interaction between ‘Total Weekly Gaming Hours’, ‘Mature Games’, and ‘Sex’ in the prediction of Externalizing LGCM intercept or slope factors."
  },
  {
    "objectID": "manuscript/working_draft.html#discussion",
    "href": "manuscript/working_draft.html#discussion",
    "title": "Working Draft",
    "section": "Discussion",
    "text": "Discussion\n\n\nLorem ipsum dolor sit amet, luctus nulla aliquet feugiat purus mi. Suscipit mi amet\nmaximus urna habitant eget amet vel at. Urna, turpis cursus augue at ante donec rutrum,\nnon quam ut. Himenaeos vel ante, morbi sociosqu lectus amet, dictum imperdiet eleifend.\nCras nibh, non, sed leo, risus etiam sed sollicitudin. Ante dapibus vehicula tellus at\ntorquent efficitur. Litora nulla primis ultricies pharetra accumsan nunc. Consequat nibh\nlobortis nec sociis ex, amet. Montes et tincidunt vel neque et nulla. Fusce, donec a\nsuspendisse nam justo, ut. Aptent lobortis sapien cum eleifend suspendisse ac a curabitur\nnetus. Dictum dui ridiculus dictumst. Ante, quam congue blandit sed nec in penatibus et.\n\nEu, sem velit vivamus. Lacus morbi justo per diam. Orci malesuada etiam et congue\nvel egestas elit. In litora ac rutrum arcu sapien elementum at in id. Laoreet quisque\nsuspendisse, condimentum at ut ut integer. Orci senectus facilisis ultricies velit\nullamcorper lacus cubilia placerat convallis. Sed, mollis lectus nulla vitae torquent\nultrices in interdum ultricies.\n\nNon morbi metus in eleifend. Est curabitur nunc, ante vestibulum non erat auctor suscipit\nnec. Tristique, posuere erat ac neque laoreet tellus primis ut. Nec justo nunc, habitant\neu mi sapien egestas ante ut. Lacus ut aliquam scelerisque, interdum nascetur curabitur\nfacilisis curabitur. Taciti, a cursus parturient. Non conubia viverra, eros ut eleifend\neros egestas. Fusce eget convallis pellentesque. Mattis ad hendrerit dolor in nec eget ut\net volutpat? Vel nisl mus eros vel, ac torquent fusce nullam nunc.\n\nConubia congue scelerisque nascetur libero posuere ut, ullamcorper facilisi. Ornare\nultricies enim facilisi semper congue, at turpis at. Condimentum, lacus maecenas varius.\nSed nisl ex consequat orci varius pulvinar adipiscing, arcu velit. Nec leo porttitor,\ndictum aliquet. Tincidunt, leo, sed quisque, sem. Blandit senectus erat etiam et nulla sed\nsollicitudin ante ligula magna. Augue eros, velit sit pellentesque pharetra. Odio dolor\nnisi lectus sit sit. Non sed ut magna sem sapien accumsan urna ipsum.\n\n\n\nLimitations\n\n\nLorem ipsum dolor sit amet, eu parturient, vitae eu nisi. Ut ornare gravida eu ac, egestas\nridiculus feugiat. Ornare penatibus pharetra, placerat varius nulla magnis erat ac non,\neget rhoncus, hendrerit. Elementum montes senectus faucibus vel, nunc. Urna amet, ex,\nfusce. Montes in pellentesque aliquet sagittis, habitant tempor. Nec non, dis sociis quis\nsenectus aliquet mauris diam faucibus nibh sed eu ultrices. Hac magnis in et ridiculus\nfames in diam volutpat curabitur.\n\n\n\n\nConclusions\n\n\nLorem ipsum dolor sit amet, hac, sed velit lacus justo tellus magnis eu ut. Nibh non quis\ndolor sed lectus eu metus facilisi tempus convallis lorem varius. Nulla arcu amet amet ut.\nEu feugiat posuere consectetur mauris tellus quisque eros efficitur? Ac ac eu et auctor\nsapien dui lorem, faucibus? Condimentum hac taciti. Non mauris vestibulum turpis nostra\neget facilisi at dolor ridiculus rhoncus."
  },
  {
    "objectID": "manuscript/working_draft.html#references",
    "href": "manuscript/working_draft.html#references",
    "title": "Working Draft",
    "section": "References",
    "text": "References\n\n\n\n\n\nAchenbach, T. M., and T. M. Ruffle. 2000. “The Child Behavior Checklist and Related Forms for Assessing Behavioral/Emotional Problems and Competencies.” Pediatrics in Review 21 (8): 265–71. https://doi.org/10.1542/pir.21-8-265.\n\n\n“American Academy of Pediatrics. Media and Children.” 2022.\n\n\nFalk, Emily B., Luke W. Hyde, Colter Mitchell, Jessica Faul, Richard Gonzalez, Mary M. Heitzeg, Daniel P. Keating, Kenneth M. Langa, Meghan E. Martz, and Julie Maslowsky. 2013. “What Is a Representative Brain? Neuroscience Meets Population Science.” Proceedings of the National Academy of Sciences 110 (44): 17615–22.\n\n\nGaravan, H., H. Bartsch, K. Conway, A. Decastro, R. Z. Goldstein, S. Heeringa, T. Jernigan, A. Potter, W. Thompson, and D. Zahs. 2018. “Recruiting the ABCD Sample: Design Considerations and Procedures.” Developmental Cognitive Neuroscience, The Adolescent Brain Cognitive Development (ABCD) Consortium: Rationale, Aims, and Assessment Strategy, 32 (August): 16–22. https://doi.org/10.1016/j.dcn.2018.04.004.\n\n\nKaufman, JOAN, BORIS Birmaher, DAVID Brent, UMA Rao, CYNTHIA Flynn, PAULA Moreci, DOUGLAS Williamson, and NEAL Ryan. 1997. “Schedule for Affective Disorders and Schizophrenia for School-Age Children-Present and Lifetime Version (K-SADS-PL): Initial Reliability and Validity Data.” Journal of the American Academy of Child & Adolescent Psychiatry 36 (7): 980–88. https://doi.org/10.1097/00004583-199707000-00021.\n\n\nKobak, Kenneth A, CJ Kratochvil, C Stanger, and J Kaufman. 2013. “Computerized Screening of Comorbidity in Adolescents with Substance or Psychiatric Disorders.” Anxiety Disorders and Depression.(La Jolaa, CA).\n\n\nPaus, Tomas. 2013. Population Neuroscience. Springer Science & Business Media.\n\n\nZelazo, Philip David, Jacob E. Anderson, Jennifer Richler, Kathleen Wallner-Allen, Jennifer L. Beaumont, and Sandra Weintraub. 2013. “Ii. Nih Toolbox Cognition Battery (Cb): Measuring Executive Function and Attention.” Monographs of the Society for Research in Child Development 78 (4): 16–33. https://doi.org/10.1111/mono.12032."
  },
  {
    "objectID": "etl.html",
    "href": "etl.html",
    "title": "ETL",
    "section": "",
    "text": "Code\n## Install (if necessary) and load packages\npacman::p_load(tidyverse, arrow, pacman, rio, here)\n\n\n\n\nCode\n# Lazyload dataframe\ndf_temp <- read_parquet(\"./_data/df_preclean.pqt\")#, lazy = TRUE)\n\n# Rename Variables\ndf_temp <- df_temp %>% rename(\"ids\" = \"subjectid\",\n                    \"Event\" = \"eventname\",\n                    \"SiteID\" = \"site_id_l\",\n                    \"FamilyID\"=\"rel_family_id\",\n                    \"Sex\"=\"sex_at_birth\",\n                    \"Age\"=\"demo_brthdat_p\",\n                    \"Race\" = \"race_ethnicity\",\n                    \"ParentIncome\" = \"demo_prnt_income_p\",\n                    \"ParentEducation\"=\"demo_prnt_ed_p\", \n                    \"IQ\"=\"nihtbx_totalcomp_fullycorrected\",\n                    \"FlankerTest\"=\"nihtbx_flanker_fullycorrected\",\n                    \"PubertalDevelopment_F\"=\"pubertdev_ss_female_category\",\n                    \"PubertalDevelopment_M\"=\"pubertdev_ss_male_category\",\n                    \"MatureVideoGames\" = \"screentime_13\",\n                    \"vg_wkdy\" = \"screentime_wkdy_3\",\n                    \"vg_wknd\" = \"screentime_wknd_9\",\n                    \"Aggression\"=\"cbcl_scr_syn_aggressive_r\",\n                    \"Externalizing\"=\"cbcl_scr_syn_external_r\",\n                    \"OppositionalDefiant\"=\"cbcl_scr_dsm5_opposit_r\",\n                    \"ConductDisorder\"=\"cbcl_scr_dsm5_conduct_r\",\n                    \"cbcl_oppT\"=\"cbcl_scr_dsm5_opposit_t\",\n                    \"cbcl_cdT\"=\"cbcl_scr_dsm5_conduct_t\",\n                    \"Internalizing\" = \"cbcl_scr_syn_internal_r\", \n                    \"Depression\"= \"cbcl_scr_dsm5_depress_r\", \n                    \"ksad_odd1\"=\"ksads_15_902_p\",\n                    \"ksad_odd2\"=\"ksads_15_901_p\",\n                    \"ksad_cdco1\"=\"ksads_16_897_p\",\n                    \"ksad_cdco2\"=\"ksads_16_899_p\",\n                    \"cbcl_guilt\"=\"cbcl_q26_p\",\n                    \"prosoc1\"=\"prosocial_q1_p\",\n                    \"prosoc2\"=\"prosocial_q2_p\",\n                    \"prosoc3\"=\"prosocial_q3_p\"\n                    )\n\n# Set variable types\ndf_temp$ids <- as.factor(df_temp$ids)\ndf_temp$Event <- as.factor(df_temp$Event)\ndf_temp$SiteID <- as.factor(df_temp$SiteID)\ndf_temp$FamilyID <- as.factor(df_temp$FamilyID)\ndf_temp$Sex <- as.factor(df_temp$Sex)\ndf_temp$Race <- as.factor(df_temp$Race)\ndf_temp$Age <- as.numeric(df_temp$Age)\ndf_temp$ParentIncome <- as.numeric(df_temp$ParentIncome)\ndf_temp$ParentEducation <- as.numeric(df_temp$ParentEducation)\ndf_temp$IQ <- as.numeric(df_temp$IQ)\ndf_temp$FlankerTest <- as.numeric(df_temp$FlankerTest)\ndf_temp$PubertalDevelopment_F <- as.numeric(df_temp$PubertalDevelopment_F)\ndf_temp$PubertalDevelopment_M <- as.numeric(df_temp$PubertalDevelopment_M)\ndf_temp$MatureVideoGames <- as.numeric(df_temp$MatureVideoGames)\ndf_temp$vg_wkdy <- as.numeric(df_temp$vg_wkdy)\ndf_temp$vg_wknd <- as.numeric(df_temp$vg_wknd)\ndf_temp$Aggression <- as.numeric(df_temp$Aggression)\ndf_temp$Externalizing <- as.numeric(df_temp$Externalizing)\ndf_temp$OppositionalDefiant <- as.numeric(df_temp$OppositionalDefiant)\ndf_temp$ConductDisorder <- as.numeric(df_temp$ConductDisorder)\ndf_temp$cbcl_oppT <- as.numeric(df_temp$cbcl_oppT)\ndf_temp$cbcl_cdT <- as.numeric(df_temp$cbcl_cdT)\ndf_temp$Internalizing <- as.numeric(df_temp$Internalizing)\ndf_temp$Depression <- as.numeric(df_temp$Depression)\ndf_temp$ksad_odd1 <- as.factor(df_temp$ksad_odd1)\ndf_temp$ksad_odd2 <- as.factor(df_temp$ksad_odd2)\ndf_temp$ksad_cdco1 <- as.factor(df_temp$ksad_cdco1)\ndf_temp$ksad_cdco2 <- as.factor(df_temp$ksad_cdco2)\ndf_temp$cbcl_guilt <- as.numeric(df_temp$cbcl_guilt)\ndf_temp$prosoc1 <- as.numeric(df_temp$prosoc1)\ndf_temp$prosoc2 <- as.numeric(df_temp$prosoc2)\ndf_temp$prosoc3 <- as.numeric(df_temp$prosoc3)\n\n# Recode factor levels\ndf_temp$Sex<-recode(df_temp$Sex, 'F' = 'Female', 'M' = 'Male')\ndf_temp$Event<-recode(df_temp$Event, 'baseline_year_1_arm_1' = 'Baseline', '6_month_follow_up_arm_1' = '6_month', '1_year_follow_up_y_arm_1'= 'Year_1', '18_month_follow_up_arm_1' = '18_month', '2_year_follow_up_y_arm_1'='Year_2', '30_month_follow_up_arm_1' = '30_month', '3_year_follow_up_y_arm_1'='Year_3')\n\n# Relevel factor categories\ndf_temp$Event <- fct_relevel(df_temp$Event, \"Baseline\", \"Year_1\", \"Year_2\")\n\n## Compute 'MatureVideoGames' as dichotomized variable\ndf_temp$MatureVideoGames <- ifelse(\ndf_temp$MatureVideoGames>1\n    , \"yes\", \"no\")\ndf_temp$MatureVideoGames <- as.factor(df_temp$MatureVideoGames)\n\n## Reverse score the 3 prosociality questions\nprosoc_sum <- 1:3\ndf_temp <- df_temp %>%\n  mutate(prosoc1_rev = min(prosoc_sum) - prosoc1 + max(prosoc_sum))%>%\n  mutate(prosoc2_rev = min(prosoc_sum) - prosoc2 + max(prosoc_sum))%>%\n  mutate(prosoc3_rev = min(prosoc_sum) - prosoc3 + max(prosoc_sum))\n\n## Compute CU traits variable\ndf_temp$CU_Traits <- (df_temp$cbcl_guilt + df_temp$prosoc1_rev + \n                      df_temp$prosoc2_rev + df_temp$prosoc3_rev)\n\n## Compute DBD variable & set variable type\ndf_temp$DBD <- ifelse(\n  df_temp$cbcl_cdT>=67 | df_temp$cbcl_oppT>=67 | df_temp$ksad_odd1==1 |  \n  df_temp$ksad_odd2==1 | df_temp$ksad_cdco1==1 | df_temp$ksad_cdco2==1,\n  \"yes\", \"no\")\ndf_temp$DBD <- as.factor(df_temp$DBD)\n\n## Compute DBD/CU variable & set variable type\ndf_temp$DBDcu <- ifelse(df_temp$DBD==\"yes\" & df_temp$CU_Traits>=8, \"yes\", \"no\")\ndf_temp$DBDcu <- as.factor(df_temp$DBDcu)\n\n## Compute total video gaming hours variable & set variable type\ndf_temp$TotalGamingHours <- (df_temp$vg_wkdy*5)+(df_temp$vg_wknd*2)\ndf_temp$TotalGamingHours <- as.numeric(df_temp$TotalGamingHours)\n\n## Create filter to (or subset) to select cases from years 1-3\ndf_temp$Eventnumeric <- df_temp$Event\ndf_temp$Eventnumeric <- as.numeric(df_temp$Eventnumeric)\n\ndf_temp <- df_temp %>%\nfilter(df_temp$Eventnumeric <= 3)\n  \ndf_temp<-df_temp %>% \n  group_by(ids) %>% \n  filter(any(TotalGamingHours >= 7)) %>%\n  ungroup()\n\n####################################\n####################################\n############Begin: Adding Gaming Hours provided by Bader########################\n\nGaming_Hours_Bader <- read_csv(\"/Users/shawes/Library/CloudStorage/GoogleDrive-swh004@gmail.com/My Drive/Projects/gaming_behav/main/_data/Gaming_Hours_Bader.csv\")\n\nGaming_Hours_Bader$ids <- as.factor(Gaming_Hours_Bader$ids)\nGaming_Hours_Bader$Event <- as.factor(Gaming_Hours_Bader$Event)\nGaming_Hours_Bader$Weekly_Gaming_Hours <- as.numeric(Gaming_Hours_Bader$Weekly_Gaming_Hours)\n\nGaming_Hours_Bader$Weekly_Gaming_Hours<-ifelse(Gaming_Hours_Bader$Weekly_Gaming_Hours>28,28,Gaming_Hours_Bader$Weekly_Gaming_Hours)\n\n# Relevel factor categories\nGaming_Hours_Bader$Event <- fct_relevel(Gaming_Hours_Bader$Event, \"Baseline\", \"Year_1\", \"Year_2\")\n\nGaming_Hours_Bader <- (Gaming_Hours_Bader) %>%\n  select(ids, Event, Weekly_Gaming_Hours)\n\nGaming_Hours_Bader<-Gaming_Hours_Bader %>% \n  group_by(ids) %>% \n  filter(any(Weekly_Gaming_Hours >= 7)) %>%\n  ungroup()\n\n####################################\n####################################\n\ndf_temp <- (df_temp) %>%\n  select(ids, Event, SiteID, FamilyID, Sex, Race, Age, ParentIncome, \n         ParentEducation, IQ, FlankerTest, PubertalDevelopment_F, PubertalDevelopment_M, \n         MatureVideoGames, TotalGamingHours,\n         DBD, DBDcu,\n         CU_Traits, Aggression, Externalizing, \n         Internalizing, Depression, OppositionalDefiant, ConductDisorder)\n\ndf_temp <- left_join(df_temp, Gaming_Hours_Bader, by=c('ids'='ids', 'Event'='Event'))\n\ndf_temp <- (df_temp) %>%\n  select(ids, Event, SiteID, FamilyID, Sex, Race, Age, ParentIncome, \n         ParentEducation, IQ, FlankerTest, PubertalDevelopment_F, PubertalDevelopment_M, \n         MatureVideoGames, TotalGamingHours, Weekly_Gaming_Hours,\n         DBD, DBDcu,\n         CU_Traits, Aggression, Externalizing, \n         Internalizing, Depression, OppositionalDefiant, ConductDisorder)\n\n########\ndf_long<-df_temp\n## setting var types for df_long dataframe. This portion of code needs to be cleaned and moved\n## set variable types\ndf_long$ids <- as.factor(df_long$ids)\ndf_long$Event <- as.factor(df_long$Event)\ndf_long$SiteID <- as.factor(df_long$SiteID)\ndf_long$FamilyID <- as.factor(df_long$FamilyID)\ndf_long$Sex <- as.factor(df_long$Sex)\ndf_long$Age <- as.numeric(df_long$Age)\ndf_long$Race <- as.factor(df_long$Race)\ndf_long$ParentIncome <- as.numeric(df_long$ParentIncome)\ndf_long$ParentEducation <- as.numeric(df_long$ParentEducation)\ndf_long$IQ <- as.numeric(df_long$IQ)\ndf_long$FlankerTest <- as.numeric(df_long$FlankerTest)\ndf_long$PubertalDevelopment_F <- as.numeric(df_long$PubertalDevelopment_F)\ndf_long$PubertalDevelopment_M <- as.numeric(df_long$PubertalDevelopment_M)\ndf_long$MatureVideoGames <- as.numeric(df_long$MatureVideoGames)\ndf_long$TotalGamingHours <- as.numeric(df_long$TotalGamingHours)\ndf_long$DBD <- as.factor(df_long$DBD)\ndf_long$DBDcu <- as.factor(df_long$DBDcu)\ndf_long$CU_Traits <- as.numeric(df_long$CU_Traits)\ndf_long$Aggression <- as.numeric(df_long$Aggression)\ndf_long$Externalizing <- as.numeric(df_long$Externalizing)\ndf_long$Internalizing <- as.numeric(df_long$Internalizing)\ndf_long$Depression <- as.numeric(df_long$Depression)\ndf_long$OppositionalDefiant <- as.numeric(df_long$OppositionalDefiant)\ndf_long$ConductDisorder <- as.numeric(df_long$ConductDisorder)\n\n####################################\n\nwrite_parquet(df_long, \"./_data/df_long.pqt\")\ndf_long <- write_csv(df_long, \"./_data/df_long.csv\")\nwrite_parquet(df_temp, \"./_data/df_temp.pqt\")\n\n# Remove unused objects\nrm(prosoc_sum, Gaming_Hours_Bader)\n\n\n\n\nCode\n## create T0 dataframe\ndf_temp_t0 <- df_long %>%\n  filter(df_long$Event == \"Baseline\")\n\ndf_temp_t0 <- (df_temp_t0) %>%\n  select(ids, Event, SiteID, FamilyID, \n         Sex, Race, Age, ParentIncome, \n         ParentEducation, IQ, FlankerTest, \n         PubertalDevelopment_F, PubertalDevelopment_M, \n         MatureVideoGames, Weekly_Gaming_Hours,\n         DBD, DBDcu, CU_Traits, Aggression, Externalizing, \n         Internalizing, Depression, OppositionalDefiant, ConductDisorder)\n\n## Create T1 dataframe\ndf_temp_t1 <- df_long %>%\n  filter(df_long$Event == \"Year_1\")\ndf_temp_t1 <- (df_temp_t1) %>%\n  select(ids, MatureVideoGames, Weekly_Gaming_Hours,\n         Aggression, Externalizing, Internalizing)\n\n## Create T2 dataframe, filtering by chosen criterion\ndf_temp_t2 <- df_long %>%\n  filter(df_long$Event == \"Year_2\")\ndf_temp_t2 <- (df_temp_t2) %>%\n  select(ids, MatureVideoGames, Weekly_Gaming_Hours,\n         Aggression, Externalizing, Internalizing)\n\n## Merge dataframes together into wide format\ndf_merge <- merge(df_temp_t0, df_temp_t1, by='ids')\ndf_merge2 <- merge(df_merge, df_temp_t2, by='ids')\ndf_merge3 <- df_merge2 %>% rename(\"Aggression_T2\" = \"Aggression\",\n                                \"Aggression_T0\" = \"Aggression.x\",\n                                \"Aggression_T1\" = \"Aggression.y\",\n                                \"Weekly_Gaming_Hours_T2\" = \"Weekly_Gaming_Hours\",\n                                \"Weekly_Gaming_Hours_T0\" = \"Weekly_Gaming_Hours.x\",\n                                \"Weekly_Gaming_Hours_T1\" = \"Weekly_Gaming_Hours.y\",\n                                \"Externalizing_T2\" = \"Externalizing\",\n                                \"Externalizing_T0\" = \"Externalizing.x\",\n                                \"Externalizing_T1\" = \"Externalizing.y\",\n                                \"Internalizing_T2\" = \"Internalizing\",\n                                \"Internalizing_T0\" = \"Internalizing.x\",\n                                \"Internalizing_T1\" = \"Internalizing.y\"\n                                )\n\ndf_merge3 <- fastDummies::dummy_cols(df_merge3, select_columns = \"Race\")\n\n## create wide dataset\ndf_wide <- (df_merge3) %>%\n  select(ids, SiteID, FamilyID, Sex, Age,\n         Race_White, Race_Black, Race_Hispanic, Race_Asian, Race_Other,\n         ParentIncome, ParentEducation, IQ, FlankerTest, \n         PubertalDevelopment_F, PubertalDevelopment_M,\n         MatureVideoGames,\n         Weekly_Gaming_Hours_T0, Weekly_Gaming_Hours_T1, Weekly_Gaming_Hours_T2, \n         Aggression_T0, Aggression_T1, Aggression_T2, \n         Externalizing_T0, Externalizing_T1, Externalizing_T2,\n         Internalizing_T0\n         )\n\ndf_wide$Sex <- as.numeric(df_wide$Sex)\ndf_wide$SiteID <- as.numeric(df_wide$SiteID)\ndf_wide$FamilyID <- as.numeric(df_wide$FamilyID)\n\n# Recode missing to 999\n# df_wide <- df_wide %>%\n#    mutate(\n#      SiteID = ifelse(is.na(SiteID), 999[1], SiteID),\n#      FamilyID = ifelse(is.na(FamilyID), 999[1], FamilyID),\n#      Sex = ifelse(is.na(Sex), 999[1], Sex),\n#      Age = ifelse(is.na(Age), 999[1], Age),\n#      Race_White = ifelse(is.na(Race_White), 999[1], Race_White),\n#      Race_Black = ifelse(is.na(Race_Black), 999[1], Race_Black),\n#      Race_Hispanic = ifelse(is.na(Race_Hispanic), 999[1], Race_Hispanic),\n#      Race_Asian = ifelse(is.na(Race_Asian), 999[1], Race_Asian),\n#      Race_Other = ifelse(is.na(Race_Other), 999[1], Race_Other),\n#      ParentIncome = ifelse(is.na(ParentIncome), 999[1], ParentIncome),\n#      ParentEducation = ifelse(is.na(ParentEducation), 999[1], ParentEducation),\n#      IQ  = ifelse(is.na(IQ), 999[1], IQ),\n#      FlankerTest = ifelse(is.na(FlankerTest), 999[1], FlankerTest),\n#      PubertalDevelopment_F = ifelse(is.na(PubertalDevelopment_F), 999[1], PubertalDevelopment_F),\n#      PubertalDevelopment_M = ifelse(is.na(PubertalDevelopment_M), 999[1], PubertalDevelopment_M),\n#      MatureVideoGames = ifelse(is.na(MatureVideoGames), 999[1], MatureVideoGames),\n#      Weekly_Gaming_Hours_T0 = ifelse(is.na(Weekly_Gaming_Hours_T0), 999[1], Weekly_Gaming_Hours_T0),\n#      Weekly_Gaming_Hours_T1 = ifelse(is.na(Weekly_Gaming_Hours_T1), 999[1], Weekly_Gaming_Hours_T1),\n#      Weekly_Gaming_Hours_T2 = ifelse(is.na(Weekly_Gaming_Hours_T2), 999[1], Weekly_Gaming_Hours_T2),\n#      Externalizing_T0 = ifelse(is.na(Externalizing_T0), 999[1], Externalizing_T0),\n#      Externalizing_T1 = ifelse(is.na(Externalizing_T1), 999[1], Externalizing_T1),\n#      Externalizing_T2 = ifelse(is.na(Externalizing_T2), 999[1], Externalizing_T2),\n#      Aggression_T0 = ifelse(is.na(Aggression_T0), 999[1], Aggression_T0),\n#      Aggression_T1 = ifelse(is.na(Aggression_T1), 999[1], Aggression_T1),\n#      Aggression_T2 = ifelse(is.na(Aggression_T2), 999[1], Aggression_T2),\n#      Internalizing_T0 = ifelse(is.na(Internalizing_T0), 999[1], Internalizing_T0),\n#    )\n\n####\n#df_wide[df_wide == 999] <- NA\n#df_wide\n####\n\nwrite_parquet(df_wide, \"./_data/df_wide.pqt\")\nwrite_csv(df_wide, \"./_data/df_wide.csv\")\nwrite_csv(df_wide, \"/Users/shawes/Desktop/df_wide.csv\")\n\n\n## Remove unused objects\nrm(df_temp_t0, df_temp_t1, df_temp_t2, df_merge, df_merge2, df_merge3)"
  }
]